###Import data
lee <- read_csv("251_Reproduce_October 19, 2019_16.00.csv")
View(lee)
lee2 <- lee %>%
select(18:27) %>%
filter(CompHap %in% c("-1", "-2", "-3", "0", "1", "2", "3")) %>%
mutate(subid = row_number()) %>%
View(lee2)
lee2 <- lee %>%
select(18:27) %>%
filter(CompHap %in% c("-1", "-2", "-3", "0", "1", "2", "3")) %>%
mutate(subid = row_number())
View(lee2)
colnames(lee2)
###Data Preparation
#### Prepare data for analysis - create columns etc.
lee2 <- lee %>%
select(18:27) %>%
filter(CompHap %in% c("-1", "-2", "-3", "0", "1", "2", "3")) %>%
mutate(subid = row_number())
colnames(lee2)
class(lee)
select(subid, condition, sex, Ethnicity, age, Education, Q_TotalDuration) %>%
mutate(ethnicity_simplified = as.numeric(Ethnicity)) %>%
mutate(ethnicity_simplified = ifelse(is.na(ethnicity_simplified),9,ethnicity_simplified)) %>% #Using 9 to denote multiple ethnicities selected
mutate(edu_simplified = as.numeric(Education)) %>%
mutate(edu_simplified = ifelse(edu_simplified <3,0,1))
lee2 <- lee %>%
select(18:27) %>%
filter(CompHap %in% c("-1", "-2", "-3", "0", "1", "2", "3")) %>%
mutate(subid = row_number())
colnames(lee2)
class(lee)
class(CompHap)
lee2 <- lee %>%
select(18:27) %>%
filter(CompHap %in% c("-1", "-2", "-3", "0", "1", "2", "3")) %>%
mutate(subid = row_number())
colnames(lee2)
class(dem_famincome)
class(lee2)
lee3 <- lee2 %>%
pivot_longer(1:11, names_to = "id_num", values_to = "Measure")
lee2 <- lee %>%
select(18:27) %>%
filter(CompHap %in% c("-1", "-2", "-3", "0", "1", "2", "3")) %>%
mutate(subid = row_number()) %>%
mutate(happy = as.numeric(CompHap))
lee2 <- lee %>%
select(18:27) %>%
filter(CompHap %in% c("-1", "-2", "-3", "0", "1", "2", "3")) %>%
mutate(subid = row_number()) %>%
mutate(happy = as.numeric(CompHap))
lee3 <- lee2 %>%
pivot_longer(1:11, names_to = "ID", values_to = "Measure")
lee2 <- lee %>%
select(18:27) %>%
mutate(happy = as.numeric(CompHap))
filter(happy %in% c("-1", "-2", "-3", "0", "1", "2", "3")) %>%
mutate(subid = row_number()) %>%
select(-CompHap)
lee2 <- lee %>%
select(18:27) %>%
filter(CompHap %in% c("-1", "-2", "-3", "0", "1", "2", "3")) %>%
mutate(subid = row_number()) %>%
mutate(happy = as.numeric(CompHap)) %>%
select(-CompHap)
View(lee2)
lee3 <- lee2 %>%
pivot_longer(1:11, names_to = "ID", values_to = "Measure")
lee2 <- lee %>%
select(18:27) %>%
filter(CompHap %in% c("-1", "-2", "-3", "0", "1", "2", "3")) %>%
mutate(subid = row_number()) %>%
mutate(happy = as.numeric(CompHap)) %>%
mutate(SES = as.numeric(MacArthurSES)) %
lee2 <- lee %>%
select(18:27) %>%
filter(CompHap %in% c("-1", "-2", "-3", "0", "1", "2", "3")) %>%
mutate(subid = row_number()) %>%
mutate(happy = as.numeric(CompHap)) %>%
mutate(SES = as.numeric(MacArthurSES)) %>%
select(-CompHap, MacArthurSES)
View(lee2)
lee2 <- lee %>%
select(18:27) %>%
filter(CompHap %in% c("-1", "-2", "-3", "0", "1", "2", "3")) %>%
mutate(subid = row_number()) %>%
mutate(happy = as.numeric(CompHap)) %>%
mutate(SES = as.numeric(MacArthurSES)) %>%
select(-CompHap, -MacArthurSES)
View(lee2)
lee3 <- lee2 %>%
pivot_longer(1:11, names_to = "ID", values_to = "Measure")
###Import data
# lee <- read_csv("251_Reproduce_October 19, 2019_16.00.csv")
lee %>%
col_names <- names(read_csv("251_Reproduce_October 19, 2019_16.00.csv"))
col_names <- names(read_csv("251_Reproduce_October 19, 2019_16.00.csv"))
read_csv("251_Reproduce_October 19, 2019_16.00.csv", col_names = col_names, skip = 2)
###Import data
lee <- read_csv("251_Reproduce_October 19, 2019_16.00.csv", stringsAsFactors=FALSE)
###Import data
lee <- read_csv("251_Reproduce_October 19, 2019_16.00.csv")
View(lee)
lee2 <- lee %>%
select(18:27) %>%
filter(CompHap %in% c("-1", "-2", "-3", "0", "1", "2", "3")) %>%
mutate(subid = row_number()) %>%
###Data Preparation
#### Prepare data for analysis - create columns etc.
lee2 <- lee %>%
select(18:27) %>%
filter(CompHap %in% c("-1", "-2", "-3", "0", "1", "2", "3")) %>%
mutate(subid = row_number()) %>%
# mutate(happy = as.numeric(CompHap)) %>%
#  mutate(SES = as.numeric(MacArthurSES)) %>%
#  select(-CompHap, -MacArthurSES)
View(lee2)
View(lee2)
lee3 <- lee2 %>%
pivot_longer(1:11, names_to = "ID", values_to = "Measure")
spec(lee)
lee3 <- lee2 %>%
pivot_longer(1:11, names_to = "ID", values_to = "Measure")
lee2 <- lee %>%
select(18:27) %>%
filter(CompHap %in% c("-1", "-2", "-3", "0", "1", "2", "3")) %>%
mutate(subid = row_number())
spec(lee)
lee2 <- lee %>%
select(18:27) %>%
filter(CompHap %in% c("-1", "-2", "-3", "0", "1", "2", "3")) %>%
mutate(subid = row_number())
spec(lee2)
spec(lee2)
class(subid)
class(lee2$subid)
colnames(lee2)
lee2 <- lee %>%
select(18:27) %>%
filter(CompHap %in% c("-1", "-2", "-3", "0", "1", "2", "3")) %>%
mutate(subid = row_number()) %>%
select(-CompHap, -MacArthurSES) %>%
colnames(lee2)
lee2 <- lee %>%
select(18:27) %>%
filter(CompHap %in% c("-1", "-2", "-3", "0", "1", "2", "3")) %>%
mutate(subid = row_number()) %>%
select(-CompHap, -MacArthurSES)
colnames(lee2)
class(lee2$subid)
class(lee2$happy)
class(lee2$CompHap)
###Data Preparation
#### Prepare data for analysis - create columns etc.
lee2 <- lee %>%
select(18:27) %>%
filter(CompHap %in% c("-1", "-2", "-3", "0", "1", "2", "3")) %>%
mutate(subid = row_number()) %>%
#select(-CompHap, -MacArthurSES)
View(lee2)
colnames(lee2)
class(lee2$subid)
class(lee2$CompHap)
# mutate(happy = as.numeric(CompHap)) %>%
#  mutate(SES = as.numeric(MacArthurSES)) %>%
View(lee2)
lee3 <- lee2 %>%
pivot_longer(1:11, names_to = "ID", values_to = "Measure")
###Data Preparation
#### Prepare data for analysis - create columns etc.
lee2 <- lee %>%
select(18:27) %>%
filter(CompHap %in% c("-1", "-2", "-3", "0", "1", "2", "3")) %>%
mutate(subid = row_number()) %>%
#select(-CompHap, -MacArthurSES)
View(lee2)
colnames(lee2)
class(lee2$subid)
class(lee2$CompHap)
# mutate(happy = as.numeric(CompHap)) %>%
#  mutate(SES = as.numeric(MacArthurSES)) %>%
#View(lee2)
#lee3 <- lee2 %>%
#  pivot_longer(1:11, names_to = "ID", values_to = "Measure")
lee2 <- lee %>%
select(18:27) %>%
filter(CompHap %in% c("-1", "-2", "-3", "0", "1", "2", "3")) %>%
mutate(subid = row_number()) %>%
#select(-CompHap, -MacArthurSES)
View(lee2)
lee2 <- lee %>%
select(18:27) %>%
filter(CompHap %in% c("-1", "-2", "-3", "0", "1", "2", "3")) %>%
mutate(subid = row_number())
#select(-CompHap, -MacArthurSES)
View(lee2)
class(lee2$CompHap)
class(lee2$subid)
class(lee2$dem_famincome)
class(lee2$CompHap)
class(lee2$dem_edu)
ID <- type.convert(subid)
ID <- type.convert(lee2$subid)
class(ID)
d <- lee2 %>%
pivot_longer(1:11, names_to = "ID", values_to = "Measure")
View(d)
d <- lee2 %>%
gather(ID, Values, 1:10)
View(d)
d <- lee2 %>%
gather(Measures, Values, 1:10)
View(d)
d %>%
ggplot(aes(x = MacArthurSES, y = CompHap)) +
geom_point(colour = "yellow")
#first just want to visual the data a little bit with a scatterplot
d %>%
ggplot(aes(x = Measures, y = Values)) +
geom_point(colour = "yellow")
#first just want to visual the data a little bit with a scatterplot
d %>%
ggplot(aes(x = MacArthurSES, y = CompHap)) +
geom_point(colour = "yellow")
###Data Preparation
#### Prepare data for analysis - create columns etc.
lee2 <- lee %>%
select(18:27) %>%
filter(CompHap %in% c("-1", "-2", "-3", "0", "1", "2", "3")) %>%
mutate(subid = row_number())
subID_2 <- type.convert(lee2$subid)
#converting wide to long format
d <- lee2 %>%
gather(Measures, Values, 1:10)
View(d)
View(lee2)
View(lee)
lee2 <- lee %>%
select(18:27) %>%
filter(CompHap %in% c("-1", "-2", "-3", "0", "1", "2", "3")) %>%
mutate(subid = row_number())
subID_2 <- type.convert(lee2$subid)
View(lee2)
d <- lee2 %>%
gather(Measures, Values, 1:10)
View(lee2)
class(subid)
class(subid)
class(subID_2)
View(lee2)
lee2 <- lee %>%
select(18:27) %>%
filter(CompHap %in% c("-1", "-2", "-3", "0", "1", "2", "3")) %>%
mutate(subid = row_number())
# subID_2 <- type.convert(lee2$subid)
View(lee2)
#converting wide to long format
d <- lee2 %>%
gather(Measures, Values, 1:10)
View(lee2)
#first just want to visual the data a little bit with a scatterplot
d %>%
ggplot(aes(x = MacArthurSES, y = CompHap)) +
geom_point(colour = "yellow")
View(lee2)
d %>%
cor(d$MacArthurSES, mtcars$CompHap)
###Import data
lee <- read_csv("251_Reproduce_October 19, 2019_16.00.csv")
###Data Preparation
lee2 <- lee %>%
select(18:27) %>%
filter(CompHap %in% c("-1", "-2", "-3", "0", "1", "2", "3")) %>%
mutate(subid = row_number())
# subID_2 <- type.convert(lee2$subid)
#converting wide to long format
d <- lee2 %>%
gather(Measures, Values, 1:10)
View(lee2)
#first just want to visual the data a little bit with a scatterplot
#d %>%
# ggplot(aes(x = MacArthurSES, y = CompHap)) +
# geom_point(colour = "yellow")
d %>%
cor(d$MacArthurSES, mtcars$CompHap)
d %>%
cor(d$MacArthurSES, d$CompHap)
d %>%
cor(MacArthurSES, CompHap)
lee2 %>%
cor(lee2$MacArthurSES, lee2$CompHap)
lee2 <- lee %>%
select(18:27) %>%
filter(CompHap %in% c("-1", "-2", "-3", "0", "1", "2", "3")) %>%
mutate(subid = row_number())
lee2 %>%
cor(lee2$MacArthurSES, lee2$CompHap)
lee2 %>%
cor(MacArthurSES, CompHap)
###Data Preparation
lee2 <- lee %>%
select(18:27) %>%
filter(CompHap %in% c("-1", "-2", "-3", "0", "1", "2", "3")) %>%
mutate(subid = row_number())
# subID_2 <- type.convert(lee2$subid)
#converting wide to long format
d <- lee2 %>%
gather(Measures, Values, 1:10)
View(lee2)
d_correlation <- subset(d, select = c("CompHap", "MacArthurSES"))
d <- lee2 %>%
gather(Measures, Values, 3:10)
View(lee2)
d %>%
ggplot(aes(x = MacArthurSES, y = CompHap)) +
geom_point(colour = "yellow")
d %>%
ggplot(aes(x = MacArthurSES, y = CompHap)) +
geom_point(colour = "black")
d_correlation <- subset(d, select = c("CompHap", "MacArthurSES"))
summary(d_correlation)
d %>%
ggplot(aes(x = MacArthurSES, y = CompHap)) +
geom_point(colour = "blue")
# summary of expense and csat columns, all rows
correlation <- d %>%
subset(select = c("CompHap", "MacArthurSES"))
summary(d_correlation)
cor(d.subset)
d.subset <- d %>%
subset(select = c("CompHap", "MacArthurSES"))
summary(d_correlation)
cor(d.subset)
###Import data
lee <- read_csv("251_Reproduce_October 19, 2019_16.00.csv")
###Data Preparation
lee2 <- lee %>%
select(18:27) %>%
filter(CompHap %in% c("-1", "-2", "-3", "0", "1", "2", "3")) %>%
mutate(subid = row_number())
# subID_2 <- type.convert(lee2$subid)
#converting wide to long format
d <- lee2 %>%
gather(Measures, Values, 3:10)
View(lee2)
###Import data
lee <- read_csv("251_Reproduce_October 19, 2019_16.00.csv")
###Data Preparation
lee2 <- lee %>%
select(18:27) %>%
filter(CompHap %in% c("-1", "-2", "-3", "0", "1", "2", "3")) %>%
mutate(subid = row_number())
# subID_2 <- type.convert(lee2$subid)
#converting wide to long format
d <- lee2 %>%
gather(Measures, Values, 3:10)
View(lee2)
#first just want to visual the data a little bit with a scatterplot
d %>%
ggplot(aes(x = MacArthurSES, y = CompHap)) +
geom_point(colour = "blue")
d.subset <- d %>%
subset(select = c("CompHap", "MacArthurSES"))
summary(d_correlation)
cor(d.subset)
# scatter plot of expense vs csat
plot(d.subset)
d.subset <- d %>%
subset(select = c("MacArthurSES", "CompHap"))
summary(d_correlation)
cor(d.subset)
# scatter plot of expense vs csat
plot(d.subset)
# Fit our regression model
regression <- lm(CompHap ~ MacArthurSES, # regression formula
data=d) # data set
summary(regression)
View(lee2)
View(lee2)
lee2 <- lee %>%
select(18:27) %>%
filter(CompHap %in% c("-1", "-2", "-3", "0", "1", "2", "3")) %>%
mutate(subid = row_number())
subID_2 <- type.convert(lee2$subid)
cor(d$CompHap, d$MacArthurSES)
lee2 <- lee %>%
select(18:27) %>%
filter(CompHap %in% c("-1", "-2", "-3", "0", "1", "2", "3")) %>%
mutate(subid = row_number())
# subID_2 <- type.convert(lee2$subid)
happy = recode(CompHap, `2` = -2, `3` = -3)
lee2 <- lee %>%
select(18:27) %>%
filter(CompHap %in% c("-1", "-2", "-3", "0", "1", "2", "3")) %>%
mutate(subid = row_number())
# subID_2 <- type.convert(lee2$subid)
happy <- recode(lees$CompHap, `2` = -2, `3` = -3)
lee2 <- lee %>%
select(18:27) %>%
filter(CompHap %in% c("-1", "-2", "-3", "0", "1", "2", "3")) %>%
mutate(subid = row_number())
# subID_2 <- type.convert(lee2$subid)
happy <- recode(lee2$CompHap, `2` = -2, `3` = -3)
lee2 <- lee %>%
select(18:27) %>%
filter(CompHap %in% c("-1", "-2", "-3", "0", "1", "2", "3")) %>%
mutate(subid = row_number())
# subID_2 <- type.convert(lee2$subid)
mutate(happy=recode(lee2$CompHap, `2` = -2, `3` = -3, `1` = -1, `-3` = 3, `-1` = 1, `-2` = 2))
lee2 <- lee %>%
select(18:27) %>%
filter(CompHap %in% c("-1", "-2", "-3", "0", "1", "2", "3")) %>%
mutate(subid = row_number()) %>%
# subID_2 <- type.convert(lee2$subid)
mutate(happy=recode(lee2$CompHap, `2` = -2, `3` = -3, `1` = -1, `-3` = 3, `-1` = 1, `-2` = 2))
View(lee2)
lee3 <- lee2 %>%
mutate(happy=recode(lee2$CompHap, `2` = -2, `3` = -3, `1` = -1, `-3` = 3, `-1` = 1, `-2` = 2)) %>%
mutate(SES=recode(lee2$MacArthurSES, `1` = 10, `2` = 9, `3` = 8, `4` = 7, `5` = 6,
`6` = 5, `7` = 4, `8` = 3, `9` = 2, `10` = 1))
View(lee3)
d <- lee3 %>%
gather(Measures, Values, 3:10)
View(lee3)
#converting wide to long format
d <- lee3 %>%
gather(Measures, Values, 1:10)
View(lee3)
d <- lee3 %>%
gather(Measures, Values, 1:10)
View(d)
d %>%
ggplot(aes(x = SES, y = happy)) +
geom_point(colour = "blue")
cor(d$happy, d$SES)
d %>%
# ggplot(aes(x = SES, y = happy)) +
# geom_point(colour = "blue")
scatter.smooth(x=d$SES, y=d$happy, main="Happy ~ SES")
d %>%
scatter.smooth(SES, happy)
d %>%
scatter.smooth(d$SES, d$happy)
d %>%
scatter.smooth(x=d$SES, y=d$happy, main = "SES ~ Happy")
cor(d$happy, d$SES)
linearMod <- lm(SES ~ happy, data=d)  # build linear regression model on full data
print(linearMod)
linearMod <- lm(SES ~ happy, data=d)  # build linear regression model on full data
print(linearMod)
plot(linearMod)
linearMod <- lm(happy ~ SES, data=d)  # build linear regression model on full data
print(linearMod)
abline(lm(happy ~ SES, data=d))
linearMod <- lm(happy ~ SES, data=d)  # build linear regression model on full data
#print(linearMod)
plot(d)
linearMod <- lm(happy ~ SES, data=d)  # build linear regression model on full data
print(linearMod)
abline(linearMod)
d %>%
ggplot(aes(x = sqrt(SES), y = sqrt(happy))) +
geom_point(colour = "red") +
geom_smooth(method = "lm", fill = NA)
d %>%
ggplot(aes(x = sqrt(SES), y = happy)) +
geom_point(colour = "red") +
geom_smooth(method = "lm", fill = NA)
d %>%
ggplot(aes(x = SES, y = happy)) +
geom_point(colour = "red") +
geom_smooth(method = "lm", fill = NA)
d %>%
scatter.smooth(x=d$SES, y=d$happy, main = "SES ~ Happy")
#first just want to visual the data a little bit
d %>%
ggplot(aes(x = SES, y = happy)) +
geom_point(colour = "blue")
figure <- d %>%
ggplot(aes(x = SES, y = happy)) +
geom_point(colour = "red") +
geom_smooth(method = "lm", fill = NA)
figure + geom_hline(yintercept=0, color = "black") +
geom_vline(xintercept = 0, color = "black")
exp_advantage < - 3-2
exp_advantage < - 1+7
summary(figure)
#calculate where values at which DV significantly differs from zero
reg_values = lm(SES ~ happy, data=d)
summary(reg_values)
#Correlation equation
cor(d$happy, d$SES)
plot(reg_values)
#calculate where values at which DV significantly differs from zero
reg_values = lm(SES ~ happy, data=d)
summary(reg_values)
coefficients(reg_values)
reg_values = lm(happy ~ SES, data=d)
summary(reg_values)
ttest = t.test(SES,happy)
reg_values = lm(happy ~ SES, data=d)
summary(reg_values)
figure <- d %>%
ggplot(aes(x = SES, y = happy)) +
geom_point(colour = "red") +
geom_smooth(method = "lm", fill = NA)
figure + geom_hline(yintercept=0, color = "black") +
geom_vline(xintercept = 0, color = "black") +
geom_vline(xintercept = -4.603, linetype="dashed", color = "blue") +
geom_vline(xintercept = 8.354, linetype="dashed", color = "blue")
